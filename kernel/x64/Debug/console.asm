; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.21005.1 

include listing.inc

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
console_early DB 01H
_DATA	ENDS
PUBLIC	?printf@@YAXPEBDZZ				; printf
EXTRN	?au_get_boot_info@@YAPEAU_AURORA_INFO_@@XZ:PROC	; au_get_boot_info
pdata	SEGMENT
$pdata$?printf@@YAXPEBDZZ DD imagerel $LN4
	DD	imagerel $LN4+53
	DD	imagerel $unwind$?printf@@YAXPEBDZZ
pdata	ENDS
xdata	SEGMENT
$unwind$?printf@@YAXPEBDZZ DD 011801H
	DD	04218H
xdata	ENDS
; Function compile flags: /Odtpy
; File e:\aurora kernel\kernel\console.cpp
_TEXT	SEGMENT
text$ = 48
?printf@@YAXPEBDZZ PROC					; printf

; 38   : void printf(const char *text, ...) {

$LN4:
	mov	QWORD PTR [rsp+8], rcx
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+32], r9
	sub	rsp, 40					; 00000028H

; 39   : 	if (console_early) {

	movzx	eax, BYTE PTR console_early
	test	eax, eax
	je	SHORT $LN1@printf

; 40   : 		au_get_boot_info()->auprint(text);

	call	?au_get_boot_info@@YAPEAU_AURORA_INFO_@@XZ ; au_get_boot_info
	mov	rcx, QWORD PTR text$[rsp]
	call	QWORD PTR [rax+90]
$LN1@printf:

; 41   : 		return;
; 42   : 	}
; 43   : }

	add	rsp, 40					; 00000028H
	ret	0
?printf@@YAXPEBDZZ ENDP					; printf
_TEXT	ENDS
END
